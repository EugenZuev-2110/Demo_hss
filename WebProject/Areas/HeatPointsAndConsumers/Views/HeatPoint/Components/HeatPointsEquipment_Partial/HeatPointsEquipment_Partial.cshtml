@model List<WebProject.Areas.HeatPointsAndConsumers.Models.HeatPointsEquipment>
@{
    Layout = null;
    int cnt_columns = 54;
}
<h3>Оборудование</h3>
<div class="table-block">
    <div class="table-buttons equipmentTab-buttons"></div>
    <table id="equipmentTab" class="display compact table-clicked" style="width:100%">
        <thead>
            <tr>
                <th colspan="5">Источник тепловой энергии</th>
                <th colspan="13">Тепловой пункт</th>
                <th rowspan="2">Емкость баков аккумуляторов, куб. м</th>
                <th colspan="12">Теплообменное оборудование</th>
                <th colspan="23">Насосное оборудование</th>
            </tr>
            <tr>
                <th>УНОМ ИСТ</th>
                <th>Наименование</th>
                <th>Статус источника</th>
                <th>УНОМ Вывода</th>
                <th>Наименование вывода</th>

                <th>УНОМ ТП</th>
                <th>Номер теплового пункта</th>
                <th>Административный округ</th>
                <th>Район</th>
                <th>Адрес месторасположения теплового пункта</th>

                <th>Тип теплового пункта</th>
                <th>Номер типовой схемы теплового пункта</th>
                <th>Тип размещения теплового пункта</th>
                <th>Статус теплового пункта</th>
                <th>Год ввода в эксплуатацию</th>

                <th>Год проведения последней реконструкции</th>
                <th>Год ликвидации теплового пункта</th>
                <th>Установленная тепловая мощность теплового пункта, Гкал/ч</th>               
               @* <th>Емкость баков аккумуляторов, куб. м</th>*@
                <th>Тип теплообменника отопления</th>

                <th>Марка теплообменника отопления</th>
                <th>Поверхность теплообмена теплообменника отопления, кв. м</th>
                <th>Теплопроизводительность теплообменника отопления, Гкал/ч</th>
                <th>Тип теплообменника вентиляции</th>
                <th>Марка теплообменника вентиляции</th>

                <th>Поверхность теплообмена теплообменника вентиляции, кв. м</th>
                <th>Теплопроизводительность теплообменника вентиляции, Гкал/ч</th>
                <th>Тип теплообменника ГВС</th>
                <th>Марка теплообменника ГВС</th>
                <th>Поверхность теплообмена теплообменника ГВС, кв. м</th>

                <th>Теплопроизводительность теплообменника ГВС, Гкал/ч</th>
                <th>Всего количество теплообменников, т/ч</th>
                <th>Марка насоса ХВС</th>
                <th>Производительность насоса ХВС, т/ч</th>
                <th>Марка насоса ГВС</th>

                <th>Производительность насоса ГВС, т/ч</th>
                <th>Марка насоса отопления</th>
                <th>Производительность насоса отопления, т/ч</th>
                <th>Марка подпиточного насоса отопления</th>
                <th>Производительность подпиточного насоса отопления, т/ч</th>

                <th>Марка насоса вентиляции</th>
                <th>Производительность насоса вентиляции, т/ч</th>
                <th>Марка подпиточного насоса вентиляции</th>
                <th>Производительность подпиточного насоса вентиляции, т/ч</th>
                <th>Марка дренажного насоса</th>

                <th>Производительность дренажного насоса, т/ч</th>
                <th>Марка пожарного насоса</th>
                <th>Производительность пожарного насоса, т/ч</th>
                <th>Марка хозяйственного насоса</th>
                <th>Производительность хозяйственного насоса, т/ч</th>

                <th>Марка насоса смешения</th>
                <th>Производительность насоса смешения, т/ч</th>
                <th>Всего количество насосов, т/ч</th>
                <th>Всего производительность насосов, т/ч</th>
            </tr>
            <tr class="filter-row ">
                @for (int i = 0; i < @cnt_columns; i++)
                {
                    if (i == 0)
                    {
                        <th class="dtfc-fixed-left" style="left:0; position:sticky;"><input type="text" class="filter-col-0" /></th>
                    }
                    else
                    {
                        <th><input type="text" class="filter-col-@i" /></th>
                    }
                }
            </tr>
        </thead>
        <tbody title="Двойной клик открывает форму редактирования">
            @foreach (var item in Model)
            {
                <tr ondblclick="OpenPopupHeatPointAddRemove(@item.heat_point_id);">
                    <td>@item.source_unom</td>
                    <td>@item.source_name</td>
                    <td>@item.source_status_name</td>
                    <td>@item.source_output_unom</td>
                    <td>@item.source_output_name</td>

                    <td>@item.heat_point_id</td>
                    <td>@item.hp_num</td>
                    <td>@item.hp_region_name</td>
                    <td>@item.hp_district_name</td>
                    <td>@item.hp_address</td>

                    <td>@item.hp_type_name</td>
                    <td>@item.hp_type_scheme_id</td>
                    <td>@item.hp_type_location_name</td>
                    <td>@item.hp_status_name</td>
                    <td>@item.hp_start_year_expl</td>

                    <td>@item.hp_last_year_reconstr</td>
                    <td>@item.hp_year_liquidate</td>
                    <td>@item.hp_inst_heat_power</td>
                    <td>@item.tank_capacity</td>
                    <td>@item.he_count_type_heat</td>

                    <td>@item.he_count_mark_heat</td>
                    <td>@item.he_surf_heat</td>
                    <td>@item.he_capacity_heat</td>
                    <td>@item.he_count_type_vent</td>
                    <td>@item.he_count_mark_vent</td>

                    <td>@item.he_surf_vent</td>
                    <td>@item.he_capacity_vent</td>
                    <td>@item.he_count_type_gvs</td>
                    <td>@item.he_count_mark_gvs</td>
                    <td>@item.he_surf_gvs</td>

                    <td>@item.he_capacity_gvs</td>
                    <td>@item.count_exch</td>
                    <td>@item.pump_count_mark_hvs</td>
                    <td>@item.pump_capacity_hvs</td>
                    <td>@item.pump_count_mark_gvs</td>

                    <td>@item.pump_capacity_gvs</td>
                    <td>@item.pump_count_mark_heat</td>
                    <td>@item.pump_capacity_heat</td>
                    <td>@item.pump_count_mark_energize_heat</td>
                    <td>@item.pump_capacity_energize_heat</td>

                    <td>@item.pump_count_mark_vent</td>
                    <td>@item.pump_capacity_vent</td>
                    <td>@item.pump_count_mark_energize_vent</td>
                    <td>@item.pump_capacity_energize_vent</td>
                    <td>@item.pump_count_mark_drain</td>

                    <td>@item.pump_capacity_drain</td>
                    <td>@item.pump_count_mark_fire</td>
                    <td>@item.pump_capacity_fire</td>
                    <td>@item.pump_count_mark_household</td>
                    <td>@item.pump_capacity_household</td>

                    <td>@item.pump_count_mark_mixing</td>
                    <td>@item.pump_capacity_mixing</td>
                    <td>@item.count_pump</td>
                    <td>@item.pump_capacity_all</td>
                </tr>
            }
        </tbody>
    </table>
    <br/>
    <div class="data-row table-summary">
        <div class="data-item rows-count">
            <h5>Всего записей:</h5>
            <p><span class="mark-color" id="all_cnt_rows"></span></p>
        </div>
        <div class="data-table-block">
            <p class="data-item">Суммарная установленная тепловая мощность: <span class="mark-color" id="sum_equip_heat_power"></span><span class="data-unit"> Гкал/ч</span></p>
            <p class="data-item">Суммарная производительность насосов: <span class="mark-color" id="sum_equip_pump_capasity"></span><span class="data-unit"> т/ч</span></p>
        </div>
        <div class="data-table-block">
            <p class="data-item">Количество теплообменников:<span class="mark-color" id="equip_heat_exchange_count"></span><span class="data-unit"> шт.</span>@*, в том числе отопления - <span class="mark-color" id="equip_heat_exchange_count_heat"></span><span class="data-unit"> шт.</span>, вентиляции - <span class="mark-color" id="equip_heat_exchange_count_vent"></span><span class="data-unit"> шт.</span> и горячего водоснабжения - <span class="mark-color" id="equip_heat_exchange_count_hw"></span><span class="data-unit"> шт.</span>*@</p>
            <p class="data-item">Количество насосов:<span class="mark-color" id="equip_pump_count"></span><span class="data-unit"> шт.</span>@*, в том числе отопления - <span class="mark-color" id="equip_pump_count_heat"></span><span class="data-unit"> шт.</span>, вентиляции - <span class="mark-color" id="equip_pump_count_vent"></span><span class="data-unit"> шт.</span> и горячего водоснабжения - <span class="mark-color" id="equip_pump_count_hw"></span><span class="data-unit"> шт.</span>*@</p>
        </div>
    </div>
</div>
<script type="text/javascript" src="@Url.Content("~/hss/js/datatables_common_scripts.js")"></script>