@model List<WebProject.Areas.TSO.Models.TZCalcCostsOnTransportDataViewModel>
@{
	Layout = null;
	int cnt_columns = 49;
}
<div class="table-block">
	<div class="table-buttons tzTransportCostsTable-buttons"></div>
	<input type="hidden" value="0" id="refresh_table" />
	<table id="tzTransportCostsTable" class="display compact table-clicked" style="width:100%">
		<thead>
			<tr>
				<th rowspan="4">УНОМ ТЗ</th>
				<th rowspan="4">Территория действия тарифной зоны</th>
				<th rowspan="4">КОД ТСО</th>
				<th rowspan="4">Наименование ТСО</th>
				<th rowspan="4">
					Виды регулируемой деятельности
					<a class="info" data-bs-toggle="tooltip" data-bs-custom-class="info-tooltip" data-bs-html="true"
					   data-bs-title='<ul class="list-unstyled">
									<li>К > 25 - Комбинированное производство, более 25 МВт</li>
									<li>К < 25 - Комбинированное производство, менее 25 МВт</li>
									<li>НК - Некомбинированное производство</li>
									<li>П - Передача</li>
									<li>С - Сбыт</li>
									<li>ДП - Договор поставки</li>
								</ul>'
					</a>
				</th>
				<th rowspan="4">ВСЕГО расходов (факт), тыс. руб.</th>
				<th rowspan="4">ВСЕГО расходов, тыс. руб.</th>
				<th colspan="11">Операционные расходы (факт)</th>
				<th colspan="8">Неподконтрольные расходы (факт)</th>
				<th colspan="2">Структура расходов (факт), %</th>
				<th colspan="11">Операционные расходы (план)</th>
				<th colspan="8">Неподконтрольные расходы (план)</th>
				<th colspan="2">Структура расходов (план), %</th>
			</tr>
			<tr>
				<th rowspan="3">ВСЕГО операционные расходы, тыс. руб.</th>
				<th colspan="3">расходы на оплату труда</th>
				<th rowspan="3">расходы на приобретение сырья и материалов, тыс. руб.</th>
				<th colspan="4">расходы на работы и услуги по договорам со сторонними организациями</th>
				<th rowspan="3">расходы на вывод из эксплуатации (в том числе на консервацию) и вывод из консервации, тыс. руб.</th>
				<th rowspan="3">прочие операционные расходы, тыс. руб.</th>
				<th rowspan="3">ВСЕГО неподконтрольные расходы, тыс. руб.</th>
				<th colspan="2">отчисления на соц. нужды от заработной платы</th>
				<th rowspan="3">амортизация основных средств и нематериальных активов, тыс. руб.</th>
				<th rowspan="3">расходы на уплату налогов, сборов и других обязательных платежей, тыс. руб.</th>
				<th rowspan="3">расходы на оплату услуг, оказываемых организациями, осуществляющими регулируемые виды деятельности, тыс. руб.</th>
				<th rowspan="3">налог на прибыль, тыс. руб.</th>
				<th rowspan="3">прочие неподконтрольные расходы, тыс. руб.</th>
				<th rowspan="3">Операционные расходы</th>
				<th rowspan="3">Неподконтрольные расходы</th>

				<th rowspan="3">ВСЕГО операционные расходы, тыс. руб.</th>
				<th colspan="3">расходы на оплату труда</th>
				<th rowspan="3">расходы на приобретение сырья и материалов, тыс. руб.</th>
				<th colspan="4">расходы на работы и услуги по договорам со сторонними организациями</th>
				<th rowspan="3">расходы на вывод из эксплуатации (в том числе на консервацию) и вывод из консервации, тыс. руб.</th>
				<th rowspan="3">прочие операционные расходы, тыс. руб.</th>
				<th rowspan="3">ВСЕГО неподконтрольные расходы, тыс. руб.</th>
				<th colspan="2">отчисления на соц. нужды от заработной платы</th>
				<th rowspan="3">амортизация основных средств и нематериальных активов, тыс. руб.</th>
				<th rowspan="3">расходы на уплату налогов, сборов и других обязательных платежей, тыс. руб.</th>
				<th rowspan="3">расходы на оплату услуг, оказываемых организациями, осуществляющими регулируемые виды деятельности, тыс. руб.</th>
				<th rowspan="3">налог на прибыль, тыс. руб.</th>
				<th rowspan="3">прочие неподконтрольные расходы, тыс. руб.</th>
				<th rowspan="3">Операционные расходы</th>
				<th rowspan="3">Неподконтрольные расходы</th>
			</tr>
			<tr>
				<th rowspan="2">всего расходов на оплату труда без отчислений, тыс. руб.</th>
				<th rowspan="2">численность персонала, чел.</th>
				<th rowspan="2">Среднемесячная заработная плата, руб./чел. х мес.</th>
				<th rowspan="2">Всего расходы на оплату работ и услуг, выполняемых по договорам с организациями, тыс. руб.</th>
				<th colspan="3">в том числе</th>
				<th rowspan="2">%</th>
				<th rowspan="2">тыс. руб.</th>

				<th rowspan="2">всего расходов на оплату труда без отчислений, тыс. руб.</th>
				<th rowspan="2">численность персонала, чел.</th>
				<th rowspan="2">Среднемесячная заработная плата, руб./чел. х мес.</th>
				<th rowspan="2">Всего расходы на оплату работ и услуг, выполняемых по договорам с организациями, тыс. руб.</th>
				<th colspan="3">в том числе</th>
				<th rowspan="2">%</th>
				<th rowspan="2">тыс. руб.</th>
			</tr>
			<tr>
				<th>расходы на оплату работ и услуг производственного характера</th>
				<th>оплата иных работ и услуг</th>
				<th>расходы на ремонт основных средств, выполняемый подрядным способом</th>

				<th>расходы на оплату работ и услуг производственного характера</th>
				<th>оплата иных работ и услуг</th>
				<th>расходы на ремонт основных средств, выполняемый подрядным способом</th>
			</tr>
			<tr class="filter-row ">
				@for (int i = 0; i < @cnt_columns; i++)
				{
					if (i == 0)
					{
						<th class="dtfc-fixed-left" style="left:0; position:sticky;"><input type="text" class="filter-col-0" /></th>
					}
					else
					{
						<th><input type="text" class="filter-col-@i" /></th>
					}
				}
			</tr>
		</thead>
		<tbody>
			@foreach (var tz_list in Model)
			{
				<tr ondblclick="OpenPopupCostsPrices(@tz_list.tz_id, @tz_list.perspective_year, '/TSO/CostsAndPrices/OpenCostsPrices', 'TZCostsPricesDataPopup');">
					<td>@tz_list.unom_tz</td>
					<td>@tz_list.territory</td>
					<td>@tz_list.code_tso</td>
					<td>@tz_list.short_name</td>
					<td>@tz_list.activity_types</td>
					<td>@tz_list.costs_all_fact</td>
					<td>@tz_list.costs_all_plan</td>
					
					<td>@tz_list.costs_all_operating_fact</td>
					<td>@tz_list.costs_all_salary_fact</td>
					<td>@tz_list.avg_count_workers_fact</td>
					<td>@tz_list.avg_salary_fact</td>
					<td>@tz_list.cost_materials_all_fact</td>
					<td>@tz_list.cost_org_service_all_fact</td>
					<td>@tz_list.costs_other_org_product_fact</td>
					<td>@tz_list.cost_org_other_service_fact</td>
					<td>@tz_list.cost_repair_fact</td>
					<td>@tz_list.cost_decomission_fact</td>
					<td>@tz_list.costs_other_operatings_fact</td>
					<td>@tz_list.costs_all_uncontroll_fact</td>
					<td>@tz_list.procent_social_deduction_fact</td>
					<td>@tz_list.cost_social_deduction_fact</td>
					<td>@tz_list.costs_amortization_fact</td>
					<td>@tz_list.cost_req_pay_all_fact</td>
					<td>@tz_list.cost_reg_org_service_fact</td>
					<td>@tz_list.cost_income_tax_fact</td>
					<td>@tz_list.cost_uncontrol_other_all_fact</td>
					<td>@tz_list.procent_costs_all_operating_fact</td>
					<td>@tz_list.procent_costs_all_uncontroll_fact</td>
					<td>@tz_list.costs_all_operating_plan</td>
					<td>@tz_list.costs_all_salary_plan</td>
					<td>@tz_list.avg_count_workers_plan</td>
					<td>@tz_list.avg_salary_plan</td>
					<td>@tz_list.cost_materials_all_plan</td>
					<td>@tz_list.cost_org_service_all_plan</td>
					<td>@tz_list.costs_other_org_product_plan</td>
					<td>@tz_list.cost_org_other_service_plan</td>
					<td>@tz_list.cost_repair_plan</td>
					<td>@tz_list.cost_decomission_plan</td>
					<td>@tz_list.costs_other_operatings_plan</td>
					<td>@tz_list.costs_all_uncontroll_plan</td>
					<td>@tz_list.procent_social_deduction_plan</td>
					<td>@tz_list.cost_social_deduction_plan</td>
					<td>@tz_list.costs_amortization_plan</td>
					<td>@tz_list.cost_req_pay_all_plan</td>
					<td>@tz_list.cost_reg_org_service_plan</td>
					<td>@tz_list.cost_income_tax_plan</td>
					<td>@tz_list.cost_uncontrol_other_all_plan</td>
					<td>@tz_list.procent_costs_all_operating_plan</td>
					<td>@tz_list.procent_costs_all_uncontroll_plan</td>
				</tr>
			}
		</tbody>
	</table>
</div>
<div class="data-row table-summary">
	<div class="data-item rows-count">
		<h5>Всего записей:</h5>
		<p><span class="mark-color" id="all_cnt_rows"></span></p>
	</div>
	<div class="data-block">
		<h5>Всего расходов:</h5>
		<div class="data-table-block">
			<p class="data-item">план - <span class="mark-color" id="sum_all_costs_plan"></span><span class="data-unit"> тыс.руб.</span></p>
			<p class="data-item">факт - <span class="mark-color" id="sum_all_costs_fact"></span><span class="data-unit"> тыс.руб.</span></p>
		</div>
	</div>
	<div class="data-block">
		<h5>Операционные затраты:</h5>
		<div class="data-table-block">
			<p class="data-item">план - <span class="mark-color" id="operation_costs_plan"></span><span class="data-unit"> тыс.руб.</span></p>
			<p class="data-item">факт - <span class="mark-color" id="operation_costs_fact"></span><span class="data-unit"> тыс.руб.</span></p>
		</div>
	</div>
	<div class="data-block">
		<h5>Неподконтрольные затраты:</h5>
		<div class="data-table-block">
			<p class="data-item">план - <span class="mark-color" id="uncontrol_costs_plan"></span><span class="data-unit"> тыс.руб.</span></p>
			<p class="data-item">факт - <span class="mark-color" id="uncontrol_costs_fact"></span><span class="data-unit"> тыс.руб.</span></p>
		</div>
	</div>

</div>
<script type="text/javascript" src="@Url.Content("~/hss/js/datatables_common_scripts.js")"></script>